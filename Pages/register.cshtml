@page
@model Kitapyurdu_Clone.Pages.registerModel
@{
    ViewData["Title"] = "Hesap Oluştur";
    Layout = "_Layout";
}
@section Styles {
    <link rel="stylesheet" href="/css/register.css" />
}

<main>
    <div class="register-container">
        <div class="register-form">
            <h2>Hesap Oluştur</h2>

            <!-- Hata ve Başarı Mesajları -->
            @if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <div class="error-message">@Model.ErrorMessage</div>
            }
            @if (!string.IsNullOrEmpty(Model.SuccessMessage))
            {
                <div class="success-message">@Model.SuccessMessage</div>
            }

            <form method="post">
                <label for="name">Ad: <span>*</span></label>
                <input type="text" id="name" name="Input.Name" placeholder="Adınızı giriniz" required>

                <label for="surname">Soyad: <span>*</span></label>
                <input type="text" id="surname" name="Input.Surname" placeholder="Soyadınızı giriniz" required>

                <label for="email">E-Posta Adresi: <span>*</span></label>
                <input type="email" id="email" name="Input.Email" placeholder="E-posta adresinizi giriniz" required>

                <label for="password">Şifre: <span>*</span></label>
                <div class="password-field">
                    <input type="password" id="password" name="Input.Password" placeholder="Şifrenizi giriniz" required>
                    <span class="toggle-password">👁️</span>
                </div>

                <label for="password-repeat">Şifre Tekrarı: <span>*</span></label>
                <div class="password-field">
                    <input type="password" id="password-repeat" name="Input.PasswordRepeat" placeholder="Şifrenizi tekrar giriniz" required>
                    <span class="toggle-password">👁️</span>
                </div>

                <div class="checkbox-container">
                    <label>
                        <input type="checkbox" required>
                        <span>Kişisel Verilerin Korunması metnini okudum ve kabul ediyorum.</span>
                    </label>
                    <label>
                        <input type="checkbox">
                        <span>Kampanyalardan haberdar olmak için <a href="#">elektronik ileti</a> almak istiyorum.</span>
                    </label>
                </div>

                <button type="submit" class="register-btn">Üye Ol</button>

                <p>Zaten üye iseniz lütfen <a asp-page="/login">Giriş Yap</a> sayfasına gidin.</p>
            </form>
        </div>
    </div>
</main>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Şifre göster/gizle
            const togglePasswordIcons = document.querySelectorAll('.toggle-password');

            togglePasswordIcons.forEach(icon => {
                icon.addEventListener('click', function () {
                    const passwordField = this.previousElementSibling;
                    const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordField.setAttribute('type', type);
                    this.textContent = type === 'password' ? '👁️' : '🙈';
                });
            });
        });
    </script>
}
